<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>reveal.js - The HTML Presentation Framework</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>Development Workflow</h1>
					<p>
						<small>James Brooking / <a href="http://twitter.com/jambroo">@jambroo</a></small>
					</p>
				</section>

				<section>
					<h2>Previous Working Environments (brief!)</h2>
					<h2>Current Workflow with Docker</h2>
					<h2>Available Services</h2>
				</section>

				<section>
					<section>
						<h2>My Past</h2>
						<p><img src="svn.png" /></p>
						<p>Server in place.. not used</p>
					</section>
				</section>

				<section>
					<section>
						<p><img src="ftp-scumbag.jpg" /></p>
					</section>
				</section>

				<section>
					<h2>2012 - Team work using git</h2>
					<ul>
						<li>Giant PR</li>
						<li>Conflict hell</li>
						<li>Single sysadmin</li>
					</ul>
				</section>


				<section>
					<h2>2014 - Denmark</h2>
					<ul>
						<li>Agile work environment</li>
						<li>Worked on small changes</li>
						<li>Released often to staging server</li>
						<li>All worked off master</li>
						<li>Vagrant used</li>
						<li>Jenkins server - post-receive hook</li>
					</ul>
				</section>

				<section>
					<img src="docker.png" />
				</section>

				<section>
					<h2>Current Workflow</h2>
					<p>Work on small task and create PR for other dev</p>
				</section>

				<section>
					CircleCI
		Bootstrapped startup price was right
		Caveats
			git amend – manually need to stop current test
		CircleCI allows you to SSH into the build machine, which is cool
		Free but all could be fixed you do not get parallel processing
			We could speed things up by having this but at this stage not really required
		Config e.g.
			machine:
  				services:
- docker
			This allows us to use Docker in our build scripts.
		Machine here in config is used to adjust VM
		Dependencies defined language-specifics deps
			We have manually overriden this section to include
				installation of docker-compose
				run docker pulls
				configuration file placement
				docker save for different parts of the sys (mongo, node and docker registy)
				docker-compose for building parts of system
				running npm install in several folders
			Under dependencies you can specify cache_directories, which will be persisted between builds. This speeds up the process a lot, we put node_modules in here
		Test
			To test our environment we run npm test within the different parts of the system.
			This will independtanlty test each part
		Experimental
			This experimental section is used to only notify on the master branch
	
	Alternatives to CircleCI
		Jenkins/Hudson (not hosted)
			Slightly monolithic
		Codeship
			Does not seem to support Docker out of the box
		semaphoreci
			Free accounts limited to 100 builds per month
			Docker support in beta		
		Shippable
			Supports encrypted environment variables
			To get Docker support you seem to have to go on a paid plan
			If you do not pay for it says in their docs you have access to docker but not docker commands, which to me says you don't have access to docker
		travis-ci
			Support for Docker
			Costs 129$/month
		TeamCity – JetBrains
			As a plugin you can get support for Docker and Vagrant
		Atlassian – Bamboo
			Build and run docker containers as well as push them to a registry using Bamboo
			Expensive solution so it is good they support docker but was out of our price 

Any questions about this? Or does anyone want to share with us their current workflow if it is dramatically different to ours or very similar?
				</section>
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
